Project: /blockly/_project.yaml
Book: /blockly/_book.yaml

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[blockly](./blockly.md) &gt; [Events](./blockly.events_namespace.md)

## Events namespace

## Classes

<table><thead><tr><th>

Class


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[BlockBase](./blockly.events_namespace.blockbase_class.md)


</td><td>

Abstract class for any event related to blocks.


</td></tr>
<tr><td>

[BlockChange](./blockly.events_namespace.blockchange_class.md)


</td><td>

Notifies listeners when some element of a block has changed (e.g. field values, comments, etc).


</td></tr>
<tr><td>

[BlockCreate](./blockly.events_namespace.blockcreate_class.md)


</td><td>

Notifies listeners when a block (or connected stack of blocks) is created.


</td></tr>
<tr><td>

[BlockDelete](./blockly.events_namespace.blockdelete_class.md)


</td><td>

Notifies listeners when a block (or connected stack of blocks) is deleted.


</td></tr>
<tr><td>

[BlockDrag](./blockly.events_namespace.blockdrag_class.md)


</td><td>

Notifies listeners when a block is being manually dragged/dropped.


</td></tr>
<tr><td>

[BlockFieldIntermediateChange](./blockly.events_namespace.blockfieldintermediatechange_class.md)


</td><td>

Notifies listeners when the value of a block's field has changed but the change is not yet complete, and is expected to be followed by a block change event.


</td></tr>
<tr><td>

[BlockMove](./blockly.events_namespace.blockmove_class.md)


</td><td>

Notifies listeners when a block is moved. This could be from one connection to another, or from one location on the workspace to another.


</td></tr>
<tr><td>

[BubbleOpen](./blockly.events_namespace.bubbleopen_class.md)


</td><td>

Class for a bubble open event.


</td></tr>
<tr><td>

[Click](./blockly.events_namespace.click_class.md)


</td><td>

Notifies listeners that some blockly element was clicked.


</td></tr>
<tr><td>

[CommentBase](./blockly.events_namespace.commentbase_class.md)


</td><td>

Abstract class for a comment event.


</td></tr>
<tr><td>

[CommentChange](./blockly.events_namespace.commentchange_class.md)


</td><td>

Notifies listeners that the contents of a workspace comment has changed.


</td></tr>
<tr><td>

[CommentCollapse](./blockly.events_namespace.commentcollapse_class.md)


</td><td>


</td></tr>
<tr><td>

[CommentCreate](./blockly.events_namespace.commentcreate_class.md)


</td><td>

Notifies listeners that a workspace comment was created.


</td></tr>
<tr><td>

[CommentDelete](./blockly.events_namespace.commentdelete_class.md)


</td><td>

Notifies listeners that a workspace comment has been deleted.


</td></tr>
<tr><td>

[CommentDrag](./blockly.events_namespace.commentdrag_class.md)


</td><td>

Notifies listeners when a comment is being manually dragged/dropped.


</td></tr>
<tr><td>

[CommentMove](./blockly.events_namespace.commentmove_class.md)


</td><td>

Notifies listeners that a workspace comment has moved.


</td></tr>
<tr><td>

[CommentResize](./blockly.events_namespace.commentresize_class.md)


</td><td>

Notifies listeners that a workspace comment has resized.


</td></tr>
<tr><td>

[FinishedLoading](./blockly.events_namespace.finishedloading_class.md)


</td><td>

Notifies listeners when the workspace has finished deserializing from JSON/XML.


</td></tr>
<tr><td>

[Selected](./blockly.events_namespace.selected_class.md)


</td><td>

Class for a selected event. Notifies listeners that a new element has been selected.


</td></tr>
<tr><td>

[ThemeChange](./blockly.events_namespace.themechange_class.md)


</td><td>

Notifies listeners that the workspace theme has changed.


</td></tr>
<tr><td>

[ToolboxItemSelect](./blockly.events_namespace.toolboxitemselect_class.md)


</td><td>

Notifies listeners that a toolbox item has been selected.


</td></tr>
<tr><td>

[TrashcanOpen](./blockly.events_namespace.trashcanopen_class.md)


</td><td>

Notifies listeners when the trashcan is opening or closing.


</td></tr>
<tr><td>

[UiBase](./blockly.events_namespace.uibase_class.md)


</td><td>

Base class for a UI event. UI events are events that don't need to be sent over the wire for multi-user editing to work (e.g. scrolling the workspace, zooming, opening toolbox categories). UI events do not undo or redo.


</td></tr>
<tr><td>

[VarBase](./blockly.events_namespace.varbase_class.md)


</td><td>

Abstract class for a variable event.


</td></tr>
<tr><td>

[VarCreate](./blockly.events_namespace.varcreate_class.md)


</td><td>

Notifies listeners that a variable model has been created.


</td></tr>
<tr><td>

[VarDelete](./blockly.events_namespace.vardelete_class.md)


</td><td>

Notifies listeners that a variable model has been deleted.


</td></tr>
<tr><td>

[VarRename](./blockly.events_namespace.varrename_class.md)


</td><td>

Notifies listeners that a variable model was renamed.


</td></tr>
<tr><td>

[VarTypeChange](./blockly.events_namespace.vartypechange_class.md)


</td><td>

Notifies listeners that a variable's type has changed.


</td></tr>
<tr><td>

[ViewportChange](./blockly.events_namespace.viewportchange_class.md)


</td><td>

Notifies listeners that the workspace surface's position or scale has changed.

Does not notify when the workspace itself resizes.


</td></tr>
</tbody></table>

## Abstract Classes

<table><thead><tr><th>

Abstract Class


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[Abstract](./blockly.events_namespace.abstract_class.md)


</td><td>

Abstract class for an event.


</td></tr>
</tbody></table>

## Enumerations

<table><thead><tr><th>

Enumeration


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[BubbleType](./blockly.events_namespace.bubbletype_enum.md)


</td><td>


</td></tr>
<tr><td>

[ClickTarget](./blockly.events_namespace.clicktarget_enum.md)


</td><td>


</td></tr>
</tbody></table>

## Functions

<table><thead><tr><th>

Function


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[clearPendingUndo()](./blockly.events_namespace.clearpendingundo_1_function.md)


</td><td>

Modify pending undo events so that when they are fired they don't land in the undo stack. Called by Workspace.clearUndo.


</td></tr>
<tr><td>

[disable()](./blockly.events_namespace.disable_1_function.md)


</td><td>

Stop sending events. Every call to this function MUST also call enable.


</td></tr>
<tr><td>

[disableOrphans(event)](./blockly.events_namespace.disableorphans_1_function.md)


</td><td>

Set if a block is disabled depending on whether it is properly connected. Use this on applications where all blocks should be connected to a top block.


</td></tr>
<tr><td>

[enable()](./blockly.events_namespace.enable_1_function.md)


</td><td>

Start sending events. Unless events were already disabled when the corresponding call to disable was made.


</td></tr>
<tr><td>

[filter(queue)](./blockly.events_namespace.filter_1_function.md)


</td><td>

Filter the queued events by merging duplicates, removing null events and reording BlockChange events.

History of this function:

This function was originally added in commit cf257ea5 with the intention of dramatically reduing the total number of dispatched events. Initialy it affected only BlockMove events but others were added over time.

Code was added to reorder BlockChange events added in commit 5578458, for uncertain reasons but most probably as part of an only-partially-successful attemp to fix problems with event ordering during block mutations. This code should probably have been added to the top of the function, before merging and null-removal, but was added at the bottom for now-forgotten reasons. See these bug investigations for a fuller discussion of the underlying issue and some of the failures that arose because of this incomplete/incorrect fix:

https://github.com/google/blockly/issues/8225\#issuecomment-2195751783 https://github.com/google/blockly/issues/2037\#issuecomment-2209696351

Later, in PR \#1205 the original O(n^2) implementation was replaced by a linear-time implementation, though additonal fixes were made subsequently.

In August 2024 a number of significant simplifications were made:

This function was previously called from Workspace.prototype.undo, but the mutation of events by this function was the cause of issue \#7026 (note that events would combine differently in reverse order vs. forward order). The originally-chosen fix for this was the addition (in PR \#7069) of code to fireNow to post-filter the .undoStack\_ and .redoStack\_ of any workspace that had just been involved in dispatching events; this apparently resolved the issue but added considerable additional complexity and made it difficult to reason about how events are processed for undo/redo, so both the call from undo and the post-processing code was removed, and forward=true was made the default while calling the function with forward=false was deprecated.

At the same time, the buggy code to reorder BlockChange events was replaced by a less-buggy version of the same functionality in a new function, enqueueEvent, called from fireInternal, thus assuring that events will be in the correct order at the time filter is called.

Additionally, the event merging code was modified so that only immediately adjacent events would be merged. This simplified the implementation while ensuring that the merging of events cannot cause them to be reordered.


</td></tr>
<tr><td>

[fire(event)](./blockly.events_namespace.fire_1_function.md)


</td><td>

Enqueue an event to be dispatched to change listeners.

Notes:

- Events are enqueued until a timeout, generally after rendering is complete or at the end of the current microtask, if not running in a browser. - Queued events are subject to destructive modification by being combined with later-enqueued events, but only until they are fired. - Events are dispatched via the fireChangeListener method on the affected workspace.


</td></tr>
<tr><td>

[fromJson(json, workspace)](./blockly.events_namespace.fromjson_1_function.md)


</td><td>

Decode the JSON into an event.


</td></tr>
<tr><td>

[get(eventType)](./blockly.events_namespace.get_1_function.md)


</td><td>

Gets the class for a specific event type from the registry.


</td></tr>
<tr><td>

[getGroup()](./blockly.events_namespace.getgroup_1_function.md)


</td><td>

Current group.


</td></tr>
<tr><td>

[getRecordUndo()](./blockly.events_namespace.getrecordundo_1_function.md)


</td><td>

Returns whether or not events will be added to the undo stack.


</td></tr>
<tr><td>

[isEnabled()](./blockly.events_namespace.isenabled_1_function.md)


</td><td>

Returns whether events may be fired or not.


</td></tr>
<tr><td>

[setGroup(state)](./blockly.events_namespace.setgroup_1_function.md)


</td><td>

Start or stop a group.


</td></tr>
<tr><td>

[setRecordUndo(newValue)](./blockly.events_namespace.setrecordundo_1_function.md)


</td><td>

Sets whether events should be added to the undo stack.


</td></tr>
</tbody></table>

## Interfaces

<table><thead><tr><th>

Interface


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[AbstractEventJson](./blockly.events_namespace.abstracteventjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BlockBaseJson](./blockly.events_namespace.blockbasejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BlockChangeJson](./blockly.events_namespace.blockchangejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BlockCreateJson](./blockly.events_namespace.blockcreatejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BlockDeleteJson](./blockly.events_namespace.blockdeletejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BlockDragJson](./blockly.events_namespace.blockdragjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BlockFieldIntermediateChangeJson](./blockly.events_namespace.blockfieldintermediatechangejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BlockMoveJson](./blockly.events_namespace.blockmovejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[BubbleOpenJson](./blockly.events_namespace.bubbleopenjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[ClickJson](./blockly.events_namespace.clickjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[CommentBaseJson](./blockly.events_namespace.commentbasejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[CommentChangeJson](./blockly.events_namespace.commentchangejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[CommentCollapseJson](./blockly.events_namespace.commentcollapsejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[CommentCreateJson](./blockly.events_namespace.commentcreatejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[CommentDragJson](./blockly.events_namespace.commentdragjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[CommentMoveJson](./blockly.events_namespace.commentmovejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[CommentResizeJson](./blockly.events_namespace.commentresizejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[SelectedJson](./blockly.events_namespace.selectedjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[ThemeChangeJson](./blockly.events_namespace.themechangejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[ToolboxItemSelectJson](./blockly.events_namespace.toolboxitemselectjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[TrashcanOpenJson](./blockly.events_namespace.trashcanopenjson_interface.md)


</td><td>


</td></tr>
<tr><td>

[VarBaseJson](./blockly.events_namespace.varbasejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[VarCreateJson](./blockly.events_namespace.varcreatejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[VarDeleteJson](./blockly.events_namespace.vardeletejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[VarRenameJson](./blockly.events_namespace.varrenamejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[VarTypeChangeJson](./blockly.events_namespace.vartypechangejson_interface.md)


</td><td>


</td></tr>
<tr><td>

[ViewportChangeJson](./blockly.events_namespace.viewportchangejson_interface.md)


</td><td>


</td></tr>
</tbody></table>

## Variables

<table><thead><tr><th>

Variable


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[BLOCK\_CHANGE](./blockly.events_namespace.block_change_variable.md)


</td><td>


</td></tr>
<tr><td>

[BLOCK\_CREATE](./blockly.events_namespace.block_create_variable.md)


</td><td>


</td></tr>
<tr><td>

[BLOCK\_DELETE](./blockly.events_namespace.block_delete_variable.md)


</td><td>


</td></tr>
<tr><td>

[BLOCK\_DRAG](./blockly.events_namespace.block_drag_variable.md)


</td><td>


</td></tr>
<tr><td>

[BLOCK\_FIELD\_INTERMEDIATE\_CHANGE](./blockly.events_namespace.block_field_intermediate_change_variable.md)


</td><td>


</td></tr>
<tr><td>

[BLOCK\_MOVE](./blockly.events_namespace.block_move_variable.md)


</td><td>


</td></tr>
<tr><td>

[BUBBLE\_OPEN](./blockly.events_namespace.bubble_open_variable.md)


</td><td>


</td></tr>
<tr><td>

[BUMP\_EVENTS](./blockly.events_namespace.bump_events_variable.md)


</td><td>

List of events that cause objects to be bumped back into the visible portion of the workspace.

Not to be confused with bumping so that disconnected connections do not appear connected.


</td></tr>
<tr><td>

[CHANGE](./blockly.events_namespace.change_variable.md)


</td><td>


</td></tr>
<tr><td>

[CLICK](./blockly.events_namespace.click_variable.md)


</td><td>


</td></tr>
<tr><td>

[COMMENT\_CHANGE](./blockly.events_namespace.comment_change_variable.md)


</td><td>


</td></tr>
<tr><td>

[COMMENT\_CREATE](./blockly.events_namespace.comment_create_variable.md)


</td><td>


</td></tr>
<tr><td>

[COMMENT\_DELETE](./blockly.events_namespace.comment_delete_variable.md)


</td><td>


</td></tr>
<tr><td>

[COMMENT\_DRAG](./blockly.events_namespace.comment_drag_variable.md)


</td><td>


</td></tr>
<tr><td>

[COMMENT\_MOVE](./blockly.events_namespace.comment_move_variable.md)


</td><td>


</td></tr>
<tr><td>

[COMMENT\_RESIZE](./blockly.events_namespace.comment_resize_variable.md)


</td><td>


</td></tr>
<tr><td>

[CREATE](./blockly.events_namespace.create_variable.md)


</td><td>


</td></tr>
<tr><td>

[DELETE](./blockly.events_namespace.delete_variable.md)


</td><td>


</td></tr>
<tr><td>

[FINISHED\_LOADING](./blockly.events_namespace.finished_loading_variable.md)


</td><td>


</td></tr>
<tr><td>

[MOVE](./blockly.events_namespace.move_variable.md)


</td><td>


</td></tr>
<tr><td>

[SELECTED](./blockly.events_namespace.selected_variable.md)


</td><td>


</td></tr>
<tr><td>

[THEME\_CHANGE](./blockly.events_namespace.theme_change_variable.md)


</td><td>


</td></tr>
<tr><td>

[TOOLBOX\_ITEM\_SELECT](./blockly.events_namespace.toolbox_item_select_variable.md)


</td><td>


</td></tr>
<tr><td>

[TRASHCAN\_OPEN](./blockly.events_namespace.trashcan_open_variable.md)


</td><td>


</td></tr>
<tr><td>

[UI](./blockly.events_namespace.ui_variable.md)


</td><td>


</td></tr>
<tr><td>

[VAR\_CREATE](./blockly.events_namespace.var_create_variable.md)


</td><td>


</td></tr>
<tr><td>

[VAR\_DELETE](./blockly.events_namespace.var_delete_variable.md)


</td><td>


</td></tr>
<tr><td>

[VAR\_RENAME](./blockly.events_namespace.var_rename_variable.md)


</td><td>


</td></tr>
<tr><td>

[VIEWPORT\_CHANGE](./blockly.events_namespace.viewport_change_variable.md)


</td><td>


</td></tr>
</tbody></table>

## Type Aliases

<table><thead><tr><th>

Type Alias


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[BumpEvent](./blockly.events_namespace.bumpevent_typealias.md)


</td><td>

Type of events that cause objects to be bumped back into the visible portion of the workspace.

Not to be confused with bumping so that disconnected connections do not appear connected.


</td></tr>
</tbody></table>
