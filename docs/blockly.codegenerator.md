Project: /blockly/_project.yaml
Book: /blockly/_book.yaml

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [blockly](./blockly.md) &gt; [CodeGenerator](./blockly.codegenerator.md)

## CodeGenerator class

Class for a code generator that translates the blocks into a language.

**Signature:**

```typescript
export declare class CodeGenerator 
```

## Constructors

|  Constructor | Modifiers | Description |
|  --- | --- | --- |
|  [(constructor)(name)](./blockly.codegenerator._constructor_.md) |  | Constructs a new instance of the <code>CodeGenerator</code> class |

## Properties

|  Property | Modifiers | Type | Description |
|  --- | --- | --- | --- |
|  [COMMENT\_WRAP](./blockly.codegenerator.comment_wrap.md) |  | number | Maximum length for a comment before wrapping. Does not account for indenting level. |
|  [definitions\_](./blockly.codegenerator.definitions_.md) | <code>protected</code> | { \[key: string\]: string; } | A dictionary of definitions to be printed before the code. |
|  [forBlock](./blockly.codegenerator.forblock.md) |  | Record&lt;string, (block: [Block](./blockly.block.md)<!-- -->, generator: this) =&gt; \[string, number\] \| string \| null&gt; | <p>A dictionary of block generator functions, keyed by block type. Each block generator function takes two parameters:</p><p>- the Block to generate code for, and - the calling CodeGenerator (or subclass) instance, so the function can call methods defined below (e.g. blockToCode) or on the relevant subclass (e.g. JavascripGenerator),</p><p>and returns:</p><p>- a \[code, precedence\] tuple (for value/expression blocks), or - a string containing the generated code (for statement blocks), or - null if no code should be emitted for block.</p> |
|  [FUNCTION\_NAME\_PLACEHOLDER\_](./blockly.codegenerator.function_name_placeholder_.md) |  | string | This is used as a placeholder in functions defined using CodeGenerator.provideFunction\_. It must not be legal code that could legitimately appear in a function definition (or comment), and it must not confuse the regular expression parser. |
|  [FUNCTION\_NAME\_PLACEHOLDER\_REGEXP\_](./blockly.codegenerator.function_name_placeholder_regexp_.md) |  | RegExp |  |
|  [functionNames\_](./blockly.codegenerator.functionnames_.md) | <code>protected</code> | { \[key: string\]: string; } | A dictionary mapping desired function names in definitions\_ to actual function names (to avoid collisions with user functions). |
|  [INDENT](./blockly.codegenerator.indent.md) |  | string | The method of indenting. Defaults to two spaces, but language generators may override this to increase indent or change to tabs. |
|  [INFINITE\_LOOP\_TRAP](./blockly.codegenerator.infinite_loop_trap.md) |  | string \| null | Arbitrary code to inject into locations that risk causing infinite loops. Any instances of '%1' will be replaced by the block ID that failed. E.g. <code>  checkTimeout(%1);\n</code> |
|  [isInitialized](./blockly.codegenerator.isinitialized.md) |  | boolean \| null | Whether the init method has been called. Generators that set this flag to false after creation and true in init will cause blockToCode to emit a warning if the generator has not been initialized. If this flag is untouched, it will have no effect. |
|  [name\_](./blockly.codegenerator.name_.md) |  | string |  |
|  [nameDB\_?](./blockly.codegenerator.namedb_.md) |  | Names | _(Optional)_ A database of variable and procedure names. |
|  [ORDER\_OVERRIDES](./blockly.codegenerator.order_overrides.md) |  | number\[\]\[\] | List of outer-inner pairings that do NOT require parentheses. |
|  [RESERVED\_WORDS\_](./blockly.codegenerator.reserved_words_.md) | <code>protected</code> | string | Comma-separated list of reserved words. |
|  [STATEMENT\_PREFIX](./blockly.codegenerator.statement_prefix.md) |  | string \| null | Arbitrary code to inject before every statement. Any instances of '%1' will be replaced by the block ID of the statement. E.g. <code>highlight(%1);\n</code> |
|  [STATEMENT\_SUFFIX](./blockly.codegenerator.statement_suffix.md) |  | string \| null | Arbitrary code to inject after every statement. Any instances of '%1' will be replaced by the block ID of the statement. E.g. <code>highlight(%1);\n</code> |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [addLoopTrap(branch, block)](./blockly.codegenerator.addlooptrap.md) |  | Add an infinite loop trap to the contents of a loop. Add statement suffix at the start of the loop block (right after the loop statement executes), and a statement prefix to the end of the loop block (right before the loop statement executes). |
|  [addReservedWords(words)](./blockly.codegenerator.addreservedwords.md) |  | Add one or more words to the list of reserved words for this language. |
|  [allNestedComments(block)](./blockly.codegenerator.allnestedcomments.md) |  | Recursively spider a tree of blocks, returning all their comments. |
|  [blockToCode(block, opt\_thisOnly)](./blockly.codegenerator.blocktocode.md) |  | Generate code for the specified block (and attached blocks). The generator must be initialized before calling this function. |
|  [finish(code)](./blockly.codegenerator.finish.md) |  | Hook for code to run at end of code generation. Subclasses may override this, e.g. to prepend the generated code with import statements or variable definitions. |
|  [getProcedureName(name)](./blockly.codegenerator.getprocedurename.md) |  | Gets a unique, legal name for a user-defined procedure. Before calling this method, the <code>nameDB_</code> property of the class must have been initialized already. This is typically done in the <code>init</code> function of the code generator class. |
|  [getVariableName(nameOrId)](./blockly.codegenerator.getvariablename.md) |  | Gets a unique, legal name for a user-defined variable. Before calling this method, the <code>nameDB_</code> property of the class must have been initialized already. This is typically done in the <code>init</code> function of the code generator class. |
|  [init(\_workspace)](./blockly.codegenerator.init.md) |  | Hook for code to run before code generation starts. Subclasses may override this, e.g. to initialise the database of variable names. |
|  [injectId(msg, block)](./blockly.codegenerator.injectid.md) |  | Inject a block ID into a message to replace '%1'. Used for STATEMENT\_PREFIX, STATEMENT\_SUFFIX, and INFINITE\_LOOP\_TRAP. |
|  [prefixLines(text, prefix)](./blockly.codegenerator.prefixlines.md) |  | Prepend a common prefix onto each line of code. Intended for indenting code or adding comment markers. |
|  [provideFunction\_(desiredName, code)](./blockly.codegenerator.providefunction_.md) |  | <p>Define a developer-defined function (not a user-defined procedure) to be included in the generated code. Used for creating private helper functions. The first time this is called with a given desiredName, the code is saved and an actual name is generated. Subsequent calls with the same desiredName have no effect but have the same return value.</p><p>It is up to the caller to make sure the same desiredName is not used for different helper functions (e.g. use "colourRandom" and "listRandom", not "random"). There is no danger of colliding with reserved words, or user-defined variable or procedure names.</p><p>The code gets output when CodeGenerator.finish() is called.</p> |
|  [scrub\_(\_block, code, \_opt\_thisOnly)](./blockly.codegenerator.scrub_.md) |  | Common tasks for generating code from blocks. This is called from blockToCode and is called on every block, not just top level blocks. Subclasses may override this, e.g. to generate code for statements following the block, or to handle comments for the specified block and any connected value blocks. |
|  [scrubNakedValue(line)](./blockly.codegenerator.scrubnakedvalue.md) |  | Naked values are top-level blocks with outputs that aren't plugged into anything. Subclasses may override this, e.g. if their language does not allow naked values. |
|  [statementToCode(block, name)](./blockly.codegenerator.statementtocode.md) |  | Generate a code string representing the blocks attached to the named statement input. Indent the code. This is mainly used in generators. When trying to generate code to evaluate look at using workspaceToCode or blockToCode. |
|  [valueToCode(block, name, outerOrder)](./blockly.codegenerator.valuetocode.md) |  | Generate code representing the specified value input. |
|  [workspaceToCode(workspace)](./blockly.codegenerator.workspacetocode.md) |  | Generate code for all blocks in the workspace to the specified language. |

