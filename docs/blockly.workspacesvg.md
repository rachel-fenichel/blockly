Project: /blockly/_project.yaml
Book: /blockly/_book.yaml

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[Home](./index.md) &gt; [blockly](./blockly.md) &gt; [WorkspaceSvg](./blockly.workspacesvg.md)

## WorkspaceSvg class

Class for a workspace. This is an onscreen area with optional trashcan, scrollbars, bubbles, and dragging.

**Signature:**

```typescript
export declare class WorkspaceSvg extends Workspace implements IContextMenu, IFocusableNode, IFocusableTree 
```
**Extends:** [Workspace](./blockly.workspace.md)

**Implements:** [IContextMenu](./blockly.icontextmenu.md)<!-- -->, [IFocusableNode](./blockly.ifocusablenode.md)<!-- -->, [IFocusableTree](./blockly.ifocusabletree.md)

## Constructors

|  Constructor | Modifiers | Description |
|  --- | --- | --- |
|  [(constructor)(options)](./blockly.workspacesvg._constructor_.md) |  | Constructs a new instance of the <code>WorkspaceSvg</code> class |

## Properties

|  Property | Modifiers | Type | Description |
|  --- | --- | --- | --- |
|  [configureContextMenu](./blockly.workspacesvg.configurecontextmenu.md) |  | ((menuOptions: ContextMenuOption\[\], e: Event) =&gt; void) \| null | Developers may define this function to add custom menu options to the workspace's context menu or edit the workspace-created set of menu options. |
|  [keyboardAccessibilityMode](./blockly.workspacesvg.keyboardaccessibilitymode.md) |  | boolean | True if keyboard accessibility mode is on, false otherwise. |
|  [keyboardMoveInProgress](./blockly.workspacesvg.keyboardmoveinprogress.md) |  | boolean | True iff a keyboard-initiated move ("drag") is in progress. |
|  [rendered](./blockly.workspacesvg.rendered.md) |  | boolean | The render status of an SVG workspace. Returns <code>false</code> for headless workspaces and true for instances of <code>WorkspaceSvg</code>. |
|  [scale](./blockly.workspacesvg.scale.md) |  | number | Current scale. |
|  [scrollbar](./blockly.workspacesvg.scrollbar.md) |  | [ScrollbarPair](./blockly.scrollbarpair.md) \| null | This workspace's scrollbars, if they exist. |
|  [scrollX](./blockly.workspacesvg.scrollx.md) |  | number | <p>Current horizontal scrolling offset in pixel units, relative to the workspace origin.</p><p>It is useful to think about a view, and a canvas moving beneath that view. As the canvas moves right, this value becomes more positive, and the view is now "seeing" the left side of the canvas. As the canvas moves left, this value becomes more negative, and the view is now "seeing" the right side of the canvas.</p><p>The confusing thing about this value is that it does not, and must not include the absoluteLeft offset. This is because it is used to calculate the viewLeft value.</p><p>The viewLeft is relative to the workspace origin (although in pixel units). The workspace origin is the top-left corner of the workspace (at least when it is enabled). It is shifted from the top-left of the blocklyDiv so as not to be beneath the toolbox.</p><p>When the workspace is enabled the viewLeft and workspace origin are at the same X location. As the canvas slides towards the right beneath the view this value (scrollX) becomes more positive, and the viewLeft becomes more negative relative to the workspace origin (imagine the workspace origin as a dot on the canvas sliding to the right as the canvas moves).</p><p>So if the scrollX were to include the absoluteLeft this would in a way "unshift" the workspace origin. This means that the viewLeft would be representing the left edge of the blocklyDiv, rather than the left edge of the workspace.</p> |
|  [scrollY](./blockly.workspacesvg.scrolly.md) |  | number | <p>Current vertical scrolling offset in pixel units, relative to the workspace origin.</p><p>It is useful to think about a view, and a canvas moving beneath that view. As the canvas moves down, this value becomes more positive, and the view is now "seeing" the upper part of the canvas. As the canvas moves up, this value becomes more negative, and the view is "seeing" the lower part of the canvas.</p><p>This confusing thing about this value is that it does not, and must not include the absoluteTop offset. This is because it is used to calculate the viewTop value.</p><p>The viewTop is relative to the workspace origin (although in pixel units). The workspace origin is the top-left corner of the workspace (at least when it is enabled). It is shifted from the top-left of the blocklyDiv so as not to be beneath the toolbox.</p><p>When the workspace is enabled the viewTop and workspace origin are at the same Y location. As the canvas slides towards the bottom this value (scrollY) becomes more positive, and the viewTop becomes more negative relative to the workspace origin (image in the workspace origin as a dot on the canvas sliding downwards as the canvas moves).</p><p>So if the scrollY were to include the absoluteTop this would in a way "unshift" the workspace origin. This means that the viewTop would be representing the top edge of the blocklyDiv, rather than the top edge of the workspace.</p> |
|  [startScrollX](./blockly.workspacesvg.startscrollx.md) |  | number | Horizontal scroll value when scrolling started in pixel units. |
|  [startScrollY](./blockly.workspacesvg.startscrolly.md) |  | number | Vertical scroll value when scrolling started in pixel units. |
|  [svgBackground\_](./blockly.workspacesvg.svgbackground_.md) |  | SVGElement |  |
|  [svgBlockCanvas\_](./blockly.workspacesvg.svgblockcanvas_.md) |  | SVGElement |  |
|  [svgBubbleCanvas\_](./blockly.workspacesvg.svgbubblecanvas_.md) |  | SVGElement |  |
|  [svgGroup\_](./blockly.workspacesvg.svggroup_.md) |  | SVGElement |  |
|  [themeManager\_](./blockly.workspacesvg.thememanager_.md) | <code>protected</code> | [ThemeManager](./blockly.thememanager.md) |  |
|  [trashcan](./blockly.workspacesvg.trashcan.md) |  | [Trashcan](./blockly.trashcan.md) \| null | The workspace's trashcan (if any). |
|  [zoomControls\_](./blockly.workspacesvg.zoomcontrols_.md) |  | [ZoomControls](./blockly.zoomcontrols.md) \| null |  |

## Methods

|  Method | Modifiers | Description |
|  --- | --- | --- |
|  [addClass(className)](./blockly.workspacesvg.addclass.md) |  | Adds a CSS class to the workspace. |
|  [addTopBlock(block)](./blockly.workspacesvg.addtopblock.md) |  | Adds a block to the list of top blocks. |
|  [addTopBoundedElement(element)](./blockly.workspacesvg.addtopboundedelement.md) |  | Adds a bounded element to the list of top bounded elements. |
|  [addTopComment(comment)](./blockly.workspacesvg.addtopcomment.md) |  | Adds a comment to the list of top comments. |
|  [canBeFocused()](./blockly.workspacesvg.canbefocused.md) |  | See IFocusableNode.canBeFocused. |
|  [centerOnBlock(id, blockOnly)](./blockly.workspacesvg.centeronblock.md) |  | Scroll the workspace to center on the given block. If the block has other blocks stacked below it, the workspace will be centered on the stack, unless blockOnly is true. |
|  [cleanUp()](./blockly.workspacesvg.cleanup.md) |  | Clean up the workspace by ordering all the blocks in a column such that none overlap. |
|  [clear()](./blockly.workspacesvg.clear.md) |  | Dispose of all blocks in workspace, with an optimization to prevent resizes. |
|  [copyOptionsForFlyout()](./blockly.workspacesvg.copyoptionsforflyout.md) |  | Creates a new set of options from this workspace's options with just the values that are relevant to a flyout. |
|  [createDom(opt\_backgroundClass, injectionDiv)](./blockly.workspacesvg.createdom.md) |  | Create the workspace DOM elements. |
|  [dispose()](./blockly.workspacesvg.dispose.md) |  | Dispose of this workspace. Unlink from all DOM elements to prevent memory leaks. |
|  [getAbsoluteScale()](./blockly.workspacesvg.getabsolutescale.md) |  | <p>Returns the absolute scale of the workspace.</p><p>Workspace scaling is multiplicative; if a workspace B (e.g. a mutator editor) with scale Y is nested within a root workspace A with scale X, workspace B's effective scale is X \* Y, because, as a child of A, it is already transformed by A's scaling factor, and then further transforms itself by its own scaling factor. Normally this Just Works, but for global elements (e.g. field editors) that are visually associated with a particular workspace but live at the top level of the DOM rather than being a child of their associated workspace, the absolute/effective scale may be needed to render appropriately.</p> |
|  [getAllBlocks(ordered)](./blockly.workspacesvg.getallblocks.md) |  | Find all blocks in workspace. Blocks are optionally sorted by position; top to bottom (with slight LTR or RTL bias). |
|  [getAudioManager()](./blockly.workspacesvg.getaudiomanager.md) |  | Get the audio manager for this workspace. |
|  [getBlockById(id)](./blockly.workspacesvg.getblockbyid.md) |  | Find the block on this workspace with the specified ID. |
|  [getBlocksBoundingBox()](./blockly.workspacesvg.getblocksboundingbox.md) |  | Calculate the bounding box for the blocks on the workspace. Coordinate system: workspace coordinates. |
|  [getBubbleCanvas()](./blockly.workspacesvg.getbubblecanvas.md) |  | Get the SVG element that forms the bubble surface. |
|  [getButtonCallback(key)](./blockly.workspacesvg.getbuttoncallback.md) |  | Get the callback function associated with a given key, for clicks on buttons and labels in the flyout. |
|  [getCanvas()](./blockly.workspacesvg.getcanvas.md) |  | Get the SVG element that forms the drawing surface. |
|  [getComponentManager()](./blockly.workspacesvg.getcomponentmanager.md) |  | Gets the component manager for this workspace. |
|  [getCursor()](./blockly.workspacesvg.getcursor.md) |  | The cursor for this workspace. |
|  [getDragTarget(e)](./blockly.workspacesvg.getdragtarget.md) |  | Returns the drag target the pointer event is over. |
|  [getFlyout(opt\_own)](./blockly.workspacesvg.getflyout.md) |  | Getter for the flyout associated with this workspace. This flyout may be owned by either the toolbox or the workspace, depending on toolbox configuration. It will be null if there is no flyout. |
|  [getFocusableElement()](./blockly.workspacesvg.getfocusableelement.md) |  | See IFocusableNode.getFocusableElement. |
|  [getFocusableTree()](./blockly.workspacesvg.getfocusabletree.md) |  | See IFocusableNode.getFocusableTree. |
|  [getGrid()](./blockly.workspacesvg.getgrid.md) |  | Get the grid object for this workspace, or null if there is none. |
|  [getInverseScreenCTM()](./blockly.workspacesvg.getinversescreenctm.md) |  | Getter for the inverted screen CTM. |
|  [getMarkerManager()](./blockly.workspacesvg.getmarkermanager.md) |  | Get the marker manager for this workspace. |
|  [getMetricsManager()](./blockly.workspacesvg.getmetricsmanager.md) |  | Gets the metrics manager for this workspace. |
|  [getNavigator()](./blockly.workspacesvg.getnavigator.md) |  | Returns an object responsible for coordinating movement of focus between items on this workspace in response to keyboard navigation commands. |
|  [getNestedTrees()](./blockly.workspacesvg.getnestedtrees.md) |  | See IFocusableTree.getNestedTrees. |
|  [getParentSvg()](./blockly.workspacesvg.getparentsvg.md) |  | Get the SVG element that contains this workspace. Note: We assume this is only called after the workspace has been injected into the DOM. |
|  [getRenderer()](./blockly.workspacesvg.getrenderer.md) |  | Get the block renderer attached to this workspace. |
|  [getRestoredFocusableNode(previousNode)](./blockly.workspacesvg.getrestoredfocusablenode.md) |  | See IFocusableTree.getRestoredFocusableNode. |
|  [getRootFocusableNode()](./blockly.workspacesvg.getrootfocusablenode.md) |  | See IFocusableTree.getRootFocusableNode. |
|  [getRootWorkspace()](./blockly.workspacesvg.getrootworkspace.md) |  |  |
|  [getScale()](./blockly.workspacesvg.getscale.md) |  | Get the workspace's zoom factor. |
|  [getSvgGroup()](./blockly.workspacesvg.getsvggroup.md) |  | Returns the SVG group for the workspace. |
|  [getTheme()](./blockly.workspacesvg.gettheme.md) |  | Get the workspace theme object. |
|  [getToolbox()](./blockly.workspacesvg.gettoolbox.md) |  | Getter for the toolbox associated with this workspace, if one exists. |
|  [getToolboxCategoryCallback(key)](./blockly.workspacesvg.gettoolboxcategorycallback.md) |  | Get the callback function associated with a given key, for populating custom toolbox categories in this workspace. |
|  [getTopBlocks(ordered)](./blockly.workspacesvg.gettopblocks.md) |  | Finds the top-level blocks and returns them. Blocks are optionally sorted by position; top to bottom (with slight LTR or RTL bias). |
|  [getTopBoundedElements()](./blockly.workspacesvg.gettopboundedelements.md) |  | Finds the top-level bounded elements and returns them. |
|  [getWidth()](./blockly.workspacesvg.getwidth.md) |  | Returns the horizontal offset of the workspace. Intended for LTR/RTL compatibility in XML. |
|  [hideChaff(onlyClosePopups)](./blockly.workspacesvg.hidechaff.md) |  | Close tooltips, context menus, dropdown selections, etc. |
|  [hideComponents(onlyClosePopups)](./blockly.workspacesvg.hidecomponents.md) |  | Hide any autohideable components (like flyout, trashcan, and any user-registered components). |
|  [highlightBlock(id, opt\_state)](./blockly.workspacesvg.highlightblock.md) |  | Highlight or unhighlight a block in the workspace. Block highlighting is often used to visually mark blocks currently being executed. |
|  [isDraggable()](./blockly.workspacesvg.isdraggable.md) |  | Is this workspace draggable? |
|  [isDragging()](./blockly.workspacesvg.isdragging.md) |  | <p>Returns true iff the user is currently engaged in a drag gesture, or if a keyboard-initated move is in progress.</p><p>Dragging gestures normally entail moving a block or other item on the workspace, or scrolling the flyout/workspace.</p><p>Keyboard-initated movements are implemnted using the dragging infrastructure and are intended to emulate (a subset of) drag gestures and so should typically be treated as if they were a gesture-based drag.</p> |
|  [isMovable()](./blockly.workspacesvg.ismovable.md) |  | <p>Is this workspace movable?</p><p>This means the user can reposition the X Y coordinates of the workspace through input. This can be through scrollbars, scroll wheel, dragging, or through zooming with the scroll wheel or pinch (since the zoom is centered on the mouse position). This does not include zooming with the zoom controls since the X Y coordinates are decided programmatically.</p> |
|  [isMovableHorizontally()](./blockly.workspacesvg.ismovablehorizontally.md) |  | Is this workspace movable horizontally? |
|  [isMovableVertically()](./blockly.workspacesvg.ismovablevertically.md) |  | Is this workspace movable vertically? |
|  [isVisible()](./blockly.workspacesvg.isvisible.md) |  | Getter for isVisible |
|  [lookUpFocusableNode(id)](./blockly.workspacesvg.lookupfocusablenode.md) |  | See IFocusableTree.lookUpFocusableNode. |
|  [markFocused()](./blockly.workspacesvg.markfocused.md) |  | Mark this workspace as the currently focused main workspace. |
|  [moveDrag(e)](./blockly.workspacesvg.movedrag.md) |  | Track a drag of an object on this workspace. |
|  [newBlock(prototypeName, opt\_id)](./blockly.workspacesvg.newblock.md) |  | Obtain a newly created block. |
|  [newComment(id)](./blockly.workspacesvg.newcomment.md) |  | Obtain a newly created comment. |
|  [onNodeBlur()](./blockly.workspacesvg.onnodeblur.md) |  | See IFocusableNode.onNodeBlur. |
|  [onNodeFocus()](./blockly.workspacesvg.onnodefocus.md) |  | See IFocusableNode.onNodeFocus. |
|  [onTreeBlur(nextTree)](./blockly.workspacesvg.ontreeblur.md) |  | See IFocusableTree.onTreeBlur. |
|  [onTreeFocus(\_node, \_previousTree)](./blockly.workspacesvg.ontreefocus.md) |  | See IFocusableTree.onTreeFocus. |
|  [recordDragTargets()](./blockly.workspacesvg.recorddragtargets.md) |  | Make a list of all the delete areas for this workspace. |
|  [refreshTheme()](./blockly.workspacesvg.refreshtheme.md) |  | Refresh all blocks on the workspace after a theme update. |
|  [registerButtonCallback(key, func)](./blockly.workspacesvg.registerbuttoncallback.md) |  | Register a callback function associated with a given key, for clicks on buttons and labels in the flyout. For instance, a button specified by the XML <button text="create variable" callbackKey="CREATE_VARIABLE"></button> should be matched by a call to registerButtonCallback("CREATE\_VARIABLE", yourCallbackFunction). |
|  [registerToolboxCategoryCallback(key, func)](./blockly.workspacesvg.registertoolboxcategorycallback.md) |  | Register a callback function associated with a given key, for populating custom toolbox categories in this workspace. See the variable and procedure categories as an example. |
|  [removeButtonCallback(key)](./blockly.workspacesvg.removebuttoncallback.md) |  | Remove a callback for a click on a button in the flyout. |
|  [removeClass(className)](./blockly.workspacesvg.removeclass.md) |  | Removes a CSS class from the workspace. |
|  [removeToolboxCategoryCallback(key)](./blockly.workspacesvg.removetoolboxcategorycallback.md) |  | Remove a callback for a click on a custom category's name in the toolbox. |
|  [removeTopBlock(block)](./blockly.workspacesvg.removetopblock.md) |  | Removes a block from the list of top blocks. |
|  [removeTopBoundedElement(element)](./blockly.workspacesvg.removetopboundedelement.md) |  | Removes a bounded element from the list of top bounded elements. |
|  [removeTopComment(comment)](./blockly.workspacesvg.removetopcomment.md) |  | Removes a comment from the list of top comments. |
|  [render()](./blockly.workspacesvg.render.md) |  | Render all blocks in workspace. |
|  [resize()](./blockly.workspacesvg.resize.md) |  | Resize and reposition all of the workspace chrome (toolbox, trash, scrollbars etc.) This should be called when something changes that requires recalculating dimensions and positions of the trash, zoom, toolbox, etc. (e.g. window resize). |
|  [scroll(x, y)](./blockly.workspacesvg.scroll.md) |  | Scroll the workspace to a specified offset (in pixels), keeping in the workspace bounds. See comment on workspaceSvg.scrollX for more detail on the meaning of these values. |
|  [scrollCenter()](./blockly.workspacesvg.scrollcenter.md) |  | Center the workspace. |
|  [setIsReadOnly(readOnly)](./blockly.workspacesvg.setisreadonly.md) |  |  |
|  [setNavigator(newNavigator)](./blockly.workspacesvg.setnavigator.md) |  | Sets the Navigator instance used by this workspace. |
|  [setResizeHandlerWrapper(handler)](./blockly.workspacesvg.setresizehandlerwrapper.md) |  | Save resize handler data so we can delete it later in dispose. |
|  [setResizesEnabled(enabled)](./blockly.workspacesvg.setresizesenabled.md) |  | Update whether this workspace has resizes enabled. If enabled, workspace will resize when appropriate. If disabled, workspace will not resize until re-enabled. Use to avoid resizing during a batch operation, for performance. |
|  [setScale(newScale)](./blockly.workspacesvg.setscale.md) |  | Set the workspace's zoom factor. |
|  [setTheme(theme)](./blockly.workspacesvg.settheme.md) |  | Set the workspace theme object. If no theme is passed, default to the <code>Classic</code> theme. |
|  [setVisible(isVisible)](./blockly.workspacesvg.setvisible.md) |  | Toggles the visibility of the workspace. Currently only intended for main workspace. |
|  [startDrag(e, xy)](./blockly.workspacesvg.startdrag.md) |  | Start tracking a drag of an object on this workspace. |
|  [translate(x, y)](./blockly.workspacesvg.translate.md) |  | Translate this workspace to new coordinates. |
|  [updateInverseScreenCTM()](./blockly.workspacesvg.updateinversescreenctm.md) |  | Mark the inverse screen CTM as dirty. |
|  [updateToolbox(toolboxDef)](./blockly.workspacesvg.updatetoolbox.md) |  | Modify the block tree on the existing toolbox. |
|  [zoom(x, y, amount)](./blockly.workspacesvg.zoom.md) |  | Zooms the workspace in or out relative to/centered on the given (x, y) coordinate. |
|  [zoomCenter(type)](./blockly.workspacesvg.zoomcenter.md) |  | Zooming the blocks centered in the center of view with zooming in or out. |
|  [zoomToFit()](./blockly.workspacesvg.zoomtofit.md) |  | Zoom the blocks to fit in the workspace if possible. |

