Project: /blockly/_project.yaml
Book: /blockly/_book.yaml

<!-- Do not edit this file. It is automatically generated by API Documenter. -->

[blockly](./blockly.md) &gt; [Field](./blockly.field_class.md)

## Field class

Abstract class for an editable field.

**Signature:**

```typescript
export declare abstract class Field<T = any> implements IKeyboardAccessible, IRegistrable, ISerializable, IFocusableNode 
```
**Implements:** [IKeyboardAccessible](./blockly.ikeyboardaccessible_interface.md)<!-- -->, [IRegistrable](./blockly.iregistrable_interface.md)<!-- -->, [ISerializable](./blockly.iserializable_interface.md)<!-- -->, [IFocusableNode](./blockly.ifocusablenode_interface.md)

## Constructors

<table><thead><tr><th>

Constructor


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[(constructor)(value, validator, config)](./blockly.field_class._constructor__1_constructor.md)


</td><td>


</td><td>

Constructs a new instance of the `Field` class


</td></tr>
</tbody></table>

## Properties

<table><thead><tr><th>

Property


</th><th>

Modifiers


</th><th>

Type


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[borderRect\_](./blockly.field_class.borderrect__property.md)


</td><td>

`protected`


</td><td>

SVGRectElement \| null


</td><td>

The rendered field's SVG border element.


</td></tr>
<tr><td>

[clickTarget\_](./blockly.field_class.clicktarget__property.md)


</td><td>

`protected`


</td><td>

Element \| null


</td><td>

The element the click handler is bound to.


</td></tr>
<tr><td>

[constants\_](./blockly.field_class.constants__property.md)


</td><td>

`protected`


</td><td>

[ConstantProvider](./blockly.blockrendering_namespace.constantprovider_class.md) \| null


</td><td>

Constants associated with the source block's renderer.


</td></tr>
<tr><td>

[DEFAULT\_VALUE](./blockly.field_class.default_value_property.md)


</td><td>


</td><td>

T \| null


</td><td>

To overwrite the default value which is set in \*\*Field\*\*, directly update the prototype.

Example: `FieldImage.prototype.DEFAULT_VALUE = null;`


</td></tr>
<tr><td>

[EDITABLE](./blockly.field_class.editable_property.md)


</td><td>


</td><td>

boolean


</td><td>

Editable fields usually show some sort of UI indicating they are editable. They will also be saved by the serializer.


</td></tr>
<tr><td>

[enabled\_](./blockly.field_class.enabled__property.md)


</td><td>

`protected`


</td><td>

boolean


</td><td>

Can the field value be changed using the editor on an editable block?


</td></tr>
<tr><td>

[fieldGroup\_](./blockly.field_class.fieldgroup__property.md)


</td><td>

`protected`


</td><td>

SVGGElement \| null


</td><td>

The rendered field's SVG group element.


</td></tr>
<tr><td>

[isDirty\_](./blockly.field_class.isdirty__property.md)


</td><td>

`protected`


</td><td>

boolean


</td><td>

Does this block need to be re-rendered?


</td></tr>
<tr><td>

[maxDisplayLength](./blockly.field_class.maxdisplaylength_property.md)


</td><td>


</td><td>

number


</td><td>

Maximum characters of text to display before adding an ellipsis.


</td></tr>
<tr><td>

[name?](./blockly.field_class.name_property.md)


</td><td>


</td><td>

string


</td><td>

_(Optional)_ Name of field. Unique within each block. Static labels are usually unnamed.


</td></tr>
<tr><td>

[NBSP](./blockly.field_class.nbsp_property.md)


</td><td>

`static`

`readonly`


</td><td>

(not declared)


</td><td>

Non-breaking space.


</td></tr>
<tr><td>

[SERIALIZABLE](./blockly.field_class.serializable_property.md)


</td><td>


</td><td>

boolean


</td><td>

Serializable fields are saved by the serializer, non-serializable fields are not. Editable fields should also be serializable. This is not the case by default so that SERIALIZABLE is backwards compatible.


</td></tr>
<tr><td>

[size\_](./blockly.field_class.size__property.md)


</td><td>

`protected`


</td><td>

[Size](./blockly.utils_namespace.size_class.md)


</td><td>

Gets the size of this field. Because getSize() and updateSize() have side effects, this acts as a shim for subclasses which wish to adjust field bounds when setting/getting the size without triggering unwanted rendering or other side effects. Note that subclasses must override \*both\* get and set if either is overridden; the implementation may just call directly through to super, but it must exist per the JS spec.


</td></tr>
<tr><td>

[SKIP\_SETUP](./blockly.field_class.skip_setup_property.md)


</td><td>

`static`

`readonly`


</td><td>

unique symbol


</td><td>

A value used to signal when a field's constructor should \*not\* set the field's value or run configure\_, and should allow a subclass to do that instead.


</td></tr>
<tr><td>

[sourceBlock\_](./blockly.field_class.sourceblock__property.md)


</td><td>

`protected`


</td><td>

[Block](./blockly.block_class.md) \| null


</td><td>

Block this field is attached to. Starts as null, then set in init.


</td></tr>
<tr><td>

[textContent\_](./blockly.field_class.textcontent__property.md)


</td><td>

`protected`


</td><td>

Text \| null


</td><td>

The rendered field's text content element.


</td></tr>
<tr><td>

[textElement\_](./blockly.field_class.textelement__property.md)


</td><td>

`protected`


</td><td>

SVGTextElement \| null


</td><td>

The rendered field's SVG text element.


</td></tr>
<tr><td>

[validator\_](./blockly.field_class.validator__property.md)


</td><td>

`protected`


</td><td>

[FieldValidator](./blockly.fieldvalidator_typealias.md)<!-- -->&lt;T&gt; \| null


</td><td>

Validation function called when user edits an editable field.


</td></tr>
<tr><td>

[value\_](./blockly.field_class.value__property.md)


</td><td>

`protected`


</td><td>

T \| null


</td><td>


</td></tr>
<tr><td>

[visible\_](./blockly.field_class.visible__property.md)


</td><td>

`protected`


</td><td>

boolean


</td><td>

Is the field visible, or hidden due to the block being collapsed?


</td></tr>
</tbody></table>

## Methods

<table><thead><tr><th>

Method


</th><th>

Modifiers


</th><th>

Description


</th></tr></thead>
<tbody><tr><td>

[applyColour()](./blockly.field_class.applycolour_1_method.md)


</td><td>


</td><td>

Updates the field to match the colour/style of the block.

Non-abstract sub-classes may wish to implement this if the colour of the field depends on the colour of the block. It will automatically be called at relevant times, such as when the parent block or renderer changes.

See [the field documentation](https://developers.google.com/blockly/guides/create-custom-blocks/fields/customizing-fields/creating#matching_block_colours) for more information, or FieldDropdown for an example.


</td></tr>
<tr><td>

[bindEvents\_()](./blockly.field_class.bindevents__1_method.md)


</td><td>

`protected`


</td><td>

Bind events to the field. Can be overridden by subclasses if they need to do custom input handling.


</td></tr>
<tr><td>

[canBeFocused()](./blockly.field_class.canbefocused_1_method.md)


</td><td>


</td><td>

See IFocusableNode.canBeFocused.


</td></tr>
<tr><td>

[configure\_(config)](./blockly.field_class.configure__1_method.md)


</td><td>

`protected`


</td><td>

Process the configuration map passed to the field.


</td></tr>
<tr><td>

[createBorderRect\_()](./blockly.field_class.createborderrect__1_method.md)


</td><td>

`protected`


</td><td>

Create a field border rect element. Not to be overridden by subclasses. Instead modify the result of the function inside initView, or create a separate function to call.


</td></tr>
<tr><td>

[createTextElement\_()](./blockly.field_class.createtextelement__1_method.md)


</td><td>

`protected`


</td><td>

Create a field text element. Not to be overridden by subclasses. Instead modify the result of the function inside initView, or create a separate function to call.


</td></tr>
<tr><td>

[dispose()](./blockly.field_class.dispose_1_method.md)


</td><td>


</td><td>

Dispose of all DOM objects and events belonging to this editable field.


</td></tr>
<tr><td>

[doClassValidation\_(newValue)](./blockly.field_class.doclassvalidation__1_method.md)


</td><td>

`protected`


</td><td>

Validate the changes to a field's value before they are set. See \*\*FieldDropdown\*\* for an example of subclass implementation.

\*\*NOTE:\*\* Validation returns one option between `T`<!-- -->, `null`<!-- -->, and `undefined`<!-- -->. \*\*Field\*\*'s implementation will never return `undefined`<!-- -->, but it is valid for a subclass to return `undefined` if the new value is compatible with `T`<!-- -->.


</td></tr>
<tr><td>

[doClassValidation\_(newValue)](./blockly.field_class.doclassvalidation__2_method.md)


</td><td>

`protected`


</td><td>


</td></tr>
<tr><td>

[doValueInvalid\_(\_invalidValue, \_fireChangeEvent)](./blockly.field_class.dovalueinvalid__1_method.md)


</td><td>

`protected`


</td><td>

Used to notify the field an invalid value was input. Can be overridden by subclasses, see FieldTextInput. No-op by default.


</td></tr>
<tr><td>

[doValueUpdate\_(newValue)](./blockly.field_class.dovalueupdate__1_method.md)


</td><td>

`protected`


</td><td>

Used to update the value of a field. Can be overridden by subclasses to do custom storage of values/updating of external things.


</td></tr>
<tr><td>

[forceRerender()](./blockly.field_class.forcererender_1_method.md)


</td><td>


</td><td>

Force a rerender of the block that this field is installed on, which will rerender this field and adjust for any sizing changes. Other fields on the same block will not rerender, because their sizes have already been recorded.


</td></tr>
<tr><td>

[fromJson(\_options)](./blockly.field_class.fromjson_1_method.md)


</td><td>

`static`


</td><td>

Subclasses should reimplement this method to construct their Field subclass from a JSON arg object.

It is an error to attempt to register a field subclass in the FieldRegistry if that subclass has not overridden this method.


</td></tr>
<tr><td>

[fromXml(fieldElement)](./blockly.field_class.fromxml_1_method.md)


</td><td>


</td><td>

Sets the field's value based on the given XML element. Should only be called by Blockly.Xml.


</td></tr>
<tr><td>

[getAbsoluteXY\_()](./blockly.field_class.getabsolutexy__1_method.md)


</td><td>

`protected`


</td><td>

Return the absolute coordinates of the top-left corner of this field. The origin (0,0) is the top-left corner of the page body.


</td></tr>
<tr><td>

[getBorderRect()](./blockly.field_class.getborderrect_1_method.md)


</td><td>

`protected`


</td><td>

Gets the border rectangle element.


</td></tr>
<tr><td>

[getClickTarget\_()](./blockly.field_class.getclicktarget__1_method.md)


</td><td>

`protected`


</td><td>

The element to bind the click handler to. If not set explicitly, defaults to the SVG root of the field. When this element is clicked on an editable field, the editor will open.


</td></tr>
<tr><td>

[getConstants()](./blockly.field_class.getconstants_1_method.md)


</td><td>


</td><td>

Get the renderer constant provider.


</td></tr>
<tr><td>

[getDisplayText\_()](./blockly.field_class.getdisplaytext__1_method.md)


</td><td>

`protected`


</td><td>

Get the text from this field to display on the block. May differ from `getText` due to ellipsis, and other formatting.


</td></tr>
<tr><td>

[getFlipRtl()](./blockly.field_class.getfliprtl_1_method.md)


</td><td>


</td><td>

Returns whether or not we should flip the field in RTL.


</td></tr>
<tr><td>

[getFocusableElement()](./blockly.field_class.getfocusableelement_1_method.md)


</td><td>


</td><td>

See IFocusableNode.getFocusableElement.


</td></tr>
<tr><td>

[getFocusableTree()](./blockly.field_class.getfocusabletree_1_method.md)


</td><td>


</td><td>

See IFocusableNode.getFocusableTree.


</td></tr>
<tr><td>

[getSize()](./blockly.field_class.getsize_1_method.md)


</td><td>


</td><td>

Returns the height and width of the field.

This should \*in general\* be the only place render\_ gets called from.


</td></tr>
<tr><td>

[getSourceBlock()](./blockly.field_class.getsourceblock_1_method.md)


</td><td>


</td><td>

Get the block this field is attached to.


</td></tr>
<tr><td>

[getSvgRoot()](./blockly.field_class.getsvgroot_1_method.md)


</td><td>


</td><td>

Gets the group element for this editable field. Used for measuring the size and for positioning.


</td></tr>
<tr><td>

[getText\_()](./blockly.field_class.gettext__1_method.md)


</td><td>

`protected`


</td><td>

A developer hook to override the returned text of this field. Override if the text representation of the value of this field is not just a string cast of its value. Return null to resort to a string cast.


</td></tr>
<tr><td>

[getText()](./blockly.field_class.gettext_1_method.md)


</td><td>


</td><td>

Get the text from this field. Override getText\_ to provide a different behavior than simply casting the value to a string.


</td></tr>
<tr><td>

[getTextContent()](./blockly.field_class.gettextcontent_1_method.md)


</td><td>

`protected`


</td><td>

Gets the text content.


</td></tr>
<tr><td>

[getTextElement()](./blockly.field_class.gettextelement_1_method.md)


</td><td>

`protected`


</td><td>

Gets the text element.


</td></tr>
<tr><td>

[getTooltip()](./blockly.field_class.gettooltip_1_method.md)


</td><td>


</td><td>

Returns the tooltip text for this field.


</td></tr>
<tr><td>

[getValidator()](./blockly.field_class.getvalidator_1_method.md)


</td><td>


</td><td>

Gets the validation function for editable fields, or null if not set.


</td></tr>
<tr><td>

[getValue()](./blockly.field_class.getvalue_1_method.md)


</td><td>


</td><td>

Get the current value of the field.


</td></tr>
<tr><td>

[initModel()](./blockly.field_class.initmodel_1_method.md)


</td><td>


</td><td>

Initializes the model of the field after it has been installed on a block. No-op by default.


</td></tr>
<tr><td>

[initView()](./blockly.field_class.initview_1_method.md)


</td><td>

`protected`


</td><td>

Create the block UI for this field.


</td></tr>
<tr><td>

[isClickable()](./blockly.field_class.isclickable_1_method.md)


</td><td>


</td><td>

Check whether this field defines the showEditor\_ function.


</td></tr>
<tr><td>

[isClickableInFlyout(autoClosingFlyout)](./blockly.field_class.isclickableinflyout_1_method.md)


</td><td>


</td><td>

Check whether the field should be clickable while the block is in a flyout. The default is that fields are clickable in always-open flyouts such as the simple toolbox, but not in autoclosing flyouts such as the category toolbox. Subclasses may override this function to change this behavior. Note that `isClickable` must also return true for this to have any effect.


</td></tr>
<tr><td>

[isCurrentlyEditable()](./blockly.field_class.iscurrentlyeditable_1_method.md)


</td><td>


</td><td>

Check whether this field is currently editable. Some fields are never EDITABLE (e.g. text labels). Other fields may be EDITABLE but may exist on non-editable blocks or be currently disabled.


</td></tr>
<tr><td>

[isEnabled()](./blockly.field_class.isenabled_1_method.md)


</td><td>


</td><td>

Check whether this field's value can be changed using the editor when the source block is editable.


</td></tr>
<tr><td>

[isSerializable()](./blockly.field_class.isserializable_1_method.md)


</td><td>


</td><td>

Check whether this field should be serialized by the XML renderer. Handles the logic for backwards compatibility and incongruous states.


</td></tr>
<tr><td>

[isVisible()](./blockly.field_class.isvisible_1_method.md)


</td><td>


</td><td>

Gets whether this editable field is visible or not.


</td></tr>
<tr><td>

[loadLegacyState(callingClass, state)](./blockly.field_class.loadlegacystate_1_method.md)


</td><td>


</td><td>

Loads the given state using either the old XML hooks, if they should be used. Returns true to indicate loading has been handled, false otherwise.


</td></tr>
<tr><td>

[loadState(state)](./blockly.field_class.loadstate_1_method.md)


</td><td>


</td><td>

Sets the field's state based on the given state value. Should only be called by the serialization system.


</td></tr>
<tr><td>

[onLocationChange(\_)](./blockly.field_class.onlocationchange_1_method.md)


</td><td>


</td><td>

Notifies the field that it has changed locations.


</td></tr>
<tr><td>

[onMouseDown\_(e)](./blockly.field_class.onmousedown__1_method.md)


</td><td>

`protected`


</td><td>

Handle a pointerdown event on a field.


</td></tr>
<tr><td>

[onNodeBlur()](./blockly.field_class.onnodeblur_1_method.md)


</td><td>


</td><td>

See IFocusableNode.onNodeBlur.


</td></tr>
<tr><td>

[onNodeFocus()](./blockly.field_class.onnodefocus_1_method.md)


</td><td>


</td><td>

See IFocusableNode.onNodeFocus.


</td></tr>
<tr><td>

[onShortcut(\_shortcut)](./blockly.field_class.onshortcut_1_method.md)


</td><td>


</td><td>

Handles the given keyboard shortcut.


</td></tr>
<tr><td>

[positionBorderRect\_()](./blockly.field_class.positionborderrect__1_method.md)


</td><td>

`protected`


</td><td>

Position a field's border rect after a size change.


</td></tr>
<tr><td>

[positionTextElement\_(xOffset, contentWidth)](./blockly.field_class.positiontextelement__1_method.md)


</td><td>

`protected`


</td><td>

Position a field's text element after a size change. This handles both LTR and RTL positioning.


</td></tr>
<tr><td>

[referencesVariables()](./blockly.field_class.referencesvariables_1_method.md)


</td><td>


</td><td>

Whether this field references any Blockly variables. If true it may need to be handled differently during serialization and deserialization. Subclasses may override this.


</td></tr>
<tr><td>

[refreshVariableName()](./blockly.field_class.refreshvariablename_1_method.md)


</td><td>


</td><td>

Refresh the variable name referenced by this field if this field references variables.


</td></tr>
<tr><td>

[render\_()](./blockly.field_class.render__1_method.md)


</td><td>

`protected`


</td><td>

Used by getSize() to move/resize any DOM elements, and get the new size.

All rendering that has an effect on the size/shape of the block should be done here, and should be triggered by getSize().


</td></tr>
<tr><td>

[repositionForWindowResize()](./blockly.field_class.repositionforwindowresize_1_method.md)


</td><td>


</td><td>

A developer hook to reposition the WidgetDiv during a window resize. You need to define this hook if your field has a WidgetDiv that needs to reposition itself when the window is resized. For example, text input fields define this hook so that the input WidgetDiv can reposition itself on a window resize event. This is especially important when modal inputs have been disabled, as Android devices will fire a window resize event when the soft keyboard opens.

If you want the WidgetDiv to hide itself instead of repositioning, return false. This is the default behavior.

DropdownDivs already handle their own positioning logic, so you do not need to override this function if your field only has a DropdownDiv.


</td></tr>
<tr><td>

[saveLegacyState(callingClass)](./blockly.field_class.savelegacystate_1_method.md)


</td><td>

`protected`


</td><td>

Returns a stringified version of the XML state, if it should be used. Otherwise this returns null, to signal the field should use its own serialization.


</td></tr>
<tr><td>

[saveState(\_doFullSerialization)](./blockly.field_class.savestate_1_method.md)


</td><td>


</td><td>

Saves this fields value as something which can be serialized to JSON. Should only be called by the serialization system.


</td></tr>
<tr><td>

[setEnabled(enabled)](./blockly.field_class.setenabled_1_method.md)


</td><td>


</td><td>

Set whether this field's value can be changed using the editor when the source block is editable.


</td></tr>
<tr><td>

[setSourceBlock(block)](./blockly.field_class.setsourceblock_1_method.md)


</td><td>


</td><td>

Attach this field to a block.


</td></tr>
<tr><td>

[setTooltip(newTip)](./blockly.field_class.settooltip_1_method.md)


</td><td>


</td><td>

Sets the tooltip for this field.


</td></tr>
<tr><td>

[setValidator(handler)](./blockly.field_class.setvalidator_1_method.md)


</td><td>


</td><td>

Sets a new validation function for editable fields, or clears a previously set validator.

The validator function takes in the new field value, and returns validated value. The validated value could be the input value, a modified version of the input value, or null to abort the change.

If the function does not return anything (or returns undefined) the new value is accepted as valid. This is to allow for fields using the validated function as a field-level change event notification.


</td></tr>
<tr><td>

[setValue(newValue, fireChangeEvent)](./blockly.field_class.setvalue_1_method.md)


</td><td>


</td><td>

Used to change the value of the field. Handles validation and events. Subclasses should override doClassValidation\_ and doValueUpdate\_ rather than this method.


</td></tr>
<tr><td>

[showEditor\_(\_e)](./blockly.field_class.showeditor__1_method.md)


</td><td>

`protected`


</td><td>

A developer hook to create an editor for the field. This is no-op by default, and must be overriden to create an editor.


</td></tr>
<tr><td>

[toXml(fieldElement)](./blockly.field_class.toxml_1_method.md)


</td><td>


</td><td>

Serializes this field's value to XML. Should only be called by Blockly.Xml.


</td></tr>
<tr><td>

[updateEditable()](./blockly.field_class.updateeditable_1_method.md)


</td><td>


</td><td>

Add or remove the UI indicating if this field is editable or not.


</td></tr>
<tr><td>

[updateSize\_(margin)](./blockly.field_class.updatesize__1_method.md)


</td><td>

`protected`


</td><td>

Updates the size of the field based on the text.


</td></tr>
</tbody></table>
